<div class="card">
  <h1>Widget Setup</h1>

  <!-- Token -->
  <div class="form-group">
    <label>Notion Integration Token</label>
    <input type="text" id="token-input" placeholder="secret_xxxxx..." />

    <span class="collapsible" data-target="token-instructions">+ Instrucciones</span>
    <div class="collapsible-content" id="token-instructions">
      <ol style="font-size:14px;line-height:1.7;margin-top:12px">
        <li>Ve a <a href="https://www.notion.so/my-integrations" target="_blank">Notion Integrations</a> y crea una nueva integración.</li>
        <li>Después de crearla, copia el <strong>Integration Token</strong>.</li>
        <li>Este mismo token puedes reutilizarlo para futuros widgets.</li>
      </ol>
    </div>
  </div>

  <!-- Checkbox confirmación -->
  <div class="form-group">
    <label>Confirma que conectaste la integración a tu base</label>
    <div class="toggle">
      <input type="checkbox" id="integration-done">
      <label for="integration-done">Sí, ya está conectada</label>
    </div>
  </div>

  <!-- Grid DB -->
  <div class="form-group">
    <label>Database URL (Grid)</label>
    <input type="text" id="db-input" placeholder="https://www.notion.so/workspace/..." />
    <p style="font-size:13px;margin-top:6px;color:#555">Copia el enlace directo de la base de datos (vista de página completa), no una vista vinculada.</p>

    <span class="collapsible" data-target="db-instructions">+ Mostrar instrucciones</span>
    <div class="collapsible-content" id="db-instructions">
      <ol style="font-size:14px;line-height:1.7;margin-top:12px">
        <li>Abre la base de contenido en Notion en vista de página completa.</li>
        <li>Haz clic en <strong>•••</strong> → <strong>Copy link</strong> y pega aquí.</li>
        <li>No uses enlaces de vistas vinculadas (linked views).</li>
      </ol>
    </div>
  </div>

  <!-- Bio DB (opcional) -->
  <div class="form-group">
    <label>Bio Database URL (opcional)</label>
    <input type="text" id="bio-input" placeholder="https://www.notion.so/workspace/..." />
    <span class="collapsible" data-target="bio-instructions">+ Qué debe contener</span>
    <div class="collapsible-content" id="bio-instructions">
      <p style="font-size:14px;margin-top:12px">
        Esta base es solo si deseas gestionar un <strong>Bio Widget</strong> desde Notion (como en Grace, pero con nuestra propia tabla).
      </p>
      <p style="font-size:14px"><strong>Propiedades recomendadas:</strong></p>
      <ul style="font-size:14px;line-height:1.7;margin-top:6px">
        <li><code>Title</code> – Text (título corto)</li>
        <li><code>Subtitle</code> – Text (línea secundaria)</li>
        <li><code>Avatar</code> – Files & Media (imagen)</li>
        <li><code>Links</code> – Relation o Text (lista de enlaces)</li>
        <li><code>Is Published</code> – Checkbox</li>
      </ul>
      <p style="font-size:13px;color:#555;margin-top:8px">Si no lo usarás aún, deja este campo vacío.</p>
    </div>
  </div>

  <button class="btn" id="generate-widget">Generar Widget →</button>

  <div id="widget-result" style="display:none;margin-top:24px;padding:20px;background:rgba(0,255,0,.1);border:1px solid rgba(0,128,0,.3)">
    <h3>¡Widget generado!</h3>
    <p>Tu widget URL:</p>
    <code id="widget-url" style="display:block;padding:12px;background:#fff;margin:8px 0">https://tu-dominio.com/widget/xxxxx</code>
    <button class="btn-secondary btn" onclick="navigator.clipboard.writeText(document.getElementById('widget-url').textContent)">Copiar URL</button>
  </div>
</div>
